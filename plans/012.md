# Plan: Add countOccurrences function (issue 012)

## Approach

Iterative search using `indexOf` with a running offset. Handles non-overlapping matches correctly and avoids regex escaping complexity.

## Steps

### 1. Write failing tests (`tests/countOccurrences.test.ts`)

Cover each acceptance criterion. Run `bun test tests/countOccurrences.test.ts` — expect import failure.

### 2. Implement `countOccurrences` in `src/index.ts`

```typescript
export function countOccurrences(s: string, sub: string): number {
  if (!sub) return 0
  let count = 0
  let idx = 0
  while ((idx = s.indexOf(sub, idx)) !== -1) {
    count++
    idx += sub.length
  }
  return count
}
```

### 3. Run tests — expect all pass

```bash
bun test tests/countOccurrences.test.ts
```

### 4. Run full suite

```bash
bun test
```

### 5. Update issue acceptance criteria to `[x]`
