---
id=018
title=Add tokenize function
state=STUCK
parent=
children=
split_count=0
---

Add a `tokenize` function to `src/index.ts` that splits a string into meaningful tokens.

## Function

**`tokenize(s: string, opts?: TokenizeOptions): string[]`**
Splits a string into tokens based on delimiters, respecting quoted substrings and escape characters.

Examples:
```
tokenize('foo bar baz')              → ['foo', 'bar', 'baz']
tokenize('"hello world" foo')        → ['hello world', 'foo']
tokenize("it\\'s fine")             → ["it's", 'fine']
```

## Acceptance Criteria

- [ ] Splits on whitespace by default
- [ ] Preserves content inside double quotes as a single token
- [ ] Supports custom delimiters via `opts.delimiter`
- [ ] Handles escaped characters via `opts.escape` (default `\`)
- [ ] Empty tokens are discarded
- [ ] Exported from `src/index.ts`
- [ ] Tests in `tests/tokenize.test.ts`

## Blocker

Grammar spec is incomplete — the interaction between custom delimiters, quoting, and escaping has too many undefined edge cases to implement confidently. Needs a complete specification before proceeding.
